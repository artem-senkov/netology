 ТЫПЫ СУБД Артем Сеньков

### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

Для формирования отчетов требуется доступ к разным данным из разных сущностей базы данных, в реляционной БД это таблицы, отчеты можно формировать консолидируя данные с помощью SQL запросов. РЕляционные БД также гарантируют четкую структуру и целостность. Невысокая скорость работы и больший объем являются приемлемыми в данной задаче недостатками.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

Я бы увеличил ресурсы оперативной памяти выделяемые под хеш-таблицу

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.

Лендинг это по сути одностраничный сайт и можно использовать быстрые субд типа ключ-значение например redis
Для CRM используются реляционные БД например MySQL или Postgres они позволяют структирированно хранить связанные данные и обробатывать запросы.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

Можно для всех целей использовать MySQL или PostgreSQL многие движки сайтов и PHP работают с этими СУБД

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

Объекты с разной структурой (документы, обучающие материалы, регламенты) можно хранить в одной сущности используя документные БД например MongoDB

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?
Опять же можно использовать сайт с системой управления контентом и базой на MySQL например wordpress

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.

Быстро работают со связями сетевые и графовые СУБД В графовых БД есть возможность оценивать стоимость пути - длину связи что подходит для этой задачи.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?

Непонятно какие задачи должны выполнять закупщики? Если закупить наиболее близко и дешево то можно использовать эту СУБД 

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

При выборе типа СУБД следует, прежде всего, исходить из типа решаемых задач, типов обрабатываемых данных и для всех задач кроме последней можно использовать MySQL но для вычисления связей и оптимального пути она малопригодна, придется делать сложные запросы и вычисления. 



---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.

Аутентификация пользователя
Запрос пользователя на операцию
Блокировка средств на счете
Списание средств со счета
Зачисление на счет поставщика услуг
Подтверждение от поставщика
ЗАвершение транзакции и уведомление пользователя


2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?



Наступление даты платежа
Блокировка средств на счете
Списание средств со счета
Зачисление на счет поставщика услуг
Подтверждение от поставщика
ЗАвершение транзакции и уведомление пользователя

---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 

1 Четкая схема данных
2 Единый язык запросов SQL поддерживающий декларативность
3 Соответствие ACID
4 широкое распостранение и поддержка
5 Совместимость разных СУБД


3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.
Перед SQL -горизонтальная масштабируемость - можно увеличивать БД путем создания новых узлов, а не увеличением мощности.
Перед NOSQL - повышенные требование к транзакциям что позволяет использовать их в финансовом секторе


---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу 
выделено 1000 машин. 

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* 
здесь справится лучше всего и почему?

При наличии такого количества машин можно использовать распределенную БД 

Если важны требования к транзакциям то подойдет модель распределённая БД SQL – это реляционная БД с прозрачным шардингом, которая для приложений выглядит как одна логическая база данных (http://citforum.ru/database/classics/distr_and_paral_sdb/)
https://habr.com/ru/companies/ruvds/articles/714322/

Если требования к транзакциям не столь строги то можно применить NoSQL СУБД в зависимости от типа данных которые будут обрабатываться - графовые документальные итд, они поддерживают горизонтальное масштабирование.



