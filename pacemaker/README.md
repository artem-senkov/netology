# Домашнее задание к занятию 10.3 «Pacemaker» ARTEM SENKOV
---

### Задание 1

Опишите основные функции и назначение Pacemaker.
Менеджер кластера - он отслеживает состояние узлов - членов кластера, сервисов на этих узлах, выполняет определенные действия при изменении состояния компонентов кластера. 

Функции:
1. Обнаружение и восстановление сбоев на уровне узлов и сервисов
2. Независимость от подсистемы хранения: общий диск не требуется
3. Независимость от типов ресурсов: все что может быть заскриптовано, может быть кластеризовано
4. Поддержка STONITH (Shoot-The-Other-Node-In-The-Head) — лекарства от Split-Brain ;)
5. Поддержка кластеров любого размера
6. Поддержка и кворумных и ресурсозависимых кластеров
7. Поддержка практически любой избыточной конфигурации
8. Автоматическая репликация конфига на все узлы кластера
9. Возможность задания порядка запуска ресурсов, а также их совместимости на одном узле
10. Поддержка расширенных типов ресурсов: клонов (запущен на множестве узлов) и с дополнительными состояниями (master/slave и т.п.)
11. Единый кластерный шелл (crm), унифицированный, скриптующийся



---

### Задание 2

Опишите основные функции и назначение Corosync.

COROSYNC занимается синхронизацией -отслеживает и передает состояние всех узлов кластера.
с его помощью осуществляется сетевое взаимодействие узлов, передача сервисных команд (запуск/остановка ресурсов, узлов и т.д.), обмен информацией о полноте состава кластера (quorum) 

---

### Задание 3

Соберите модель, состоящую из двух виртуальных машин. Установите Pacemaker, Corosync, Pcs. Настройте HA кластер.

*Пришлите скриншот рабочей конфигурации и состояния сервиса для каждого нода.*
![img2](https://github.com/artem-senkov/netology/blob/main/pacemaker/img/pcs_config.png)
![img2](https://github.com/artem-senkov/netology/blob/main/pacemaker/img/status1.png)
![img2](https://github.com/artem-senkov/netology/blob/main/pacemaker/img/status2.png)

---

### Задания со звёздочкой*
Эти задания дополнительные. Выполнять их не обязательно. Это не повлияет на зачёт. Вы можете их выполнить, если хотите глубже разобраться в материале.
 
---

### Задание 4

Установите и настройте DRBD-сервис для настроенного кластера.

*Пришлите скриншот рабочей конфигурации и состояние сервиса для каждого нода.*
![img2](https://github.com/artem-senkov/netology/blob/main/pacemaker/img/drbd1.png)
![img2](https://github.com/artem-senkov/netology/blob/main/pacemaker/img/drbd2.png)
![img2](https://github.com/artem-senkov/netology/blob/main/pacemaker/img/mysql.png)
![img2](https://github.com/artem-senkov/netology/blob/main/pacemaker/img/www.png)

Конфигурации одинаковы для каждой ноды.

